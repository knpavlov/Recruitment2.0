# Recruitment 2.0

Моно-репозиторий портала для команды рекрутинга. Структура разделена на фронтенд (React + Vite) и бэкенд (Express + TypeScript)
с учётом будущей миграции логики в независимые пакеты.

## Структура

- `frontend/` — SPA с современным интерфейсом, навигация по левому меню и экраны кейсов, кандидатов, оценок и управления аккаунтами.
- `backend/` — API-слой Express с модульной организацией доменов.
- `docs/` — документация по архитектуре и дальнейшим шагам.

## Быстрый старт

### Фронтенд

```bash
cd frontend
npm install
npm run dev
```

### Бэкенд

```bash
cd backend
npm install
npm run dev
```

### Настройка базы данных

Бэкенд использует PostgreSQL. Поддерживаются как строка подключения `DATABASE_URL`, так и отдельные параметры (`PGHOST`, `PGPORT`, `PGUSER`, `PGPASSWORD`, `PGDATABASE`).

1. Создайте файл `.env` в каталоге `backend/` и пропишите переменные окружения Railway (или другой СУБД). Пример:
   ```dotenv
   DATABASE_URL=postgresql://user:password@host:port/database
   # или альтернативно
   # PGHOST=...
   # PGPORT=...
   # PGUSER=...
   # PGPASSWORD=...
   # PGDATABASE=...
   SUPER_ADMIN_EMAIL=super.admin@company.com
   ```
2. Выполните `npm install` — вместе с остальными пакетами подтянется драйвер `pg` и будет сгенерирован локальный `package-lock.json`.
3. При первом запуске `npm run dev` или `npm run start` будут автоматически созданы таблицы и учётная запись суперадмина.

> ⚙️ Для деплоя в Railway в репозитории лежит `.nixpacks.toml`: он явно запускает `npm install` в `backend/`, поэтому новые зависимости подтянутся даже без заранее сгенерированного `package-lock.json`.

## Что реализовано сейчас

- Управление кейсами: создание, переименование, drag&drop-файлы и контроль конфликтов версий.
- База кандидатов с загрузкой резюме, автозаполнением полей и версионированием карточек.
- Настройка оценок: выбор кандидатов, кейсов, автоматическая генерация статусов интервью.
- Управление аккаунтами: приглашения, активация, удаление и генерация одноразовых кодов входа.
- Аутентификация через временные коды и заглушечный почтовый сервис.

## Следующие этапы

- Подключение реальной БД (например, PostgreSQL) и вынесение работы с данными в репозитории.
- Интеграция промышленного почтового сервиса и постоянного хранения кодов/сессий.
- Интеграция полноценного API ИИ для разбора резюме и обратной связи интервьюеров.
- Добавление механизмов синхронизации в реальном времени (WebSocket) и блокировок на уровне БД.
